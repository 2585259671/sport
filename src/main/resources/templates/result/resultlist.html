<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="tontent-type" content="text/html; charset=UTF-8">

<link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
<script type="text/javascript" th:src="@{/script/jquery.js}"></script>

<script type="text/javascript"
	th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
<link th:href="@{/style/chen.css}" rel="stylesheet" />
<script type="text/javascript">
   
$(document).ready(function(){
   
	$("#grade_select").change(function(){
	
		$.ajax({
			url:'/sport/clas/query',
			type:'GET',
			dataType:'json',
			data:'grade_id='+$("#grade_select").find("option:selected").attr('value'),
			
			success:function(result){
		
			    $("#clas_id").empty(); 
			    for(var i=0;i<result.length;i++){
			      /* alert(result[i].name); */
			      $("#clas_id").append("<option value="+result[i].id+">"+result[i].name+"</option>"); 
			    }  
			}
		});
	});
	
});
</script>
</head>

<body>
	<div class="modal-dialog " style="width:1000px">
		<div class="modal-content">
			<div class="modal-header">
				<div th:replace="~{nav}" />
			</div>
			<div class="modal-header">
				<label for="default" class="col-sm-2 control-label">成绩信息</label>
			</div>
			<div class="modal-body">
				<div class="form-inline">
					<div class="form-inline" style="float: left;width: 30%">
						<label for="name">选择年级:</label> 
						<select id="grade_select"
							class="selectpicker" style="width: 40%" name="grade_id">
							<option th:each="g:${grades}" th:text="${g.name}"
								th:value=${g.id}></option>
						</select>
					</div>
					<div class="form-inline" style="float: left ;width: 30%">
						<label for="name">选择班级:</label> <select id="clas_id" class="selectpicker"
							style="width: 40%" name="clas_id">
							<option th:each="c:${class_s}" th:text="${c.name}"
								th:value=${c.id}></option>
						</select>
					</div>
				</div>

				<a href="/sport/result"><button type="button"
						class="btn btn-primary btn-sm">查询</button></a>
			</div>
			<form id="query" class="modalbody" action="/sport/result" method="POST">
					<input type="hidden" name="grade_id" th:value="${grade_id}">
					<input type="hidden" name="clas_id" th:value="${clas_id}">
					<div class="list">
				        <table class="table table-hover">
							<thead>
							  <tr>
							  	<th th:text="姓名"></th>
							    <th th:each="i:${items}" th:text="${i.name}"></th>
							    <th>操作<th>
							  </tr>
							</thead>
							<tbody>
								<tr th:each="s:${page.list}">
									<td th:text="${s.name}"></td>
									<td th:each="f:${s.fresults}" th:text="${f.item.name}"></td>
									<td>修改<td>
								</tr>
								<!-- <tr th:each="s:${page.list}">
									<td th:text="${s.name}"></td>
									<td th:each="f:${s.fresults}" th:text="${f.level}"></td>
									<td>修改<td>
								</tr> -->
					</table>
				<div th:replace="~{page}"/>
			</form>
		</div>
	</div>
	</div>
</body>

</html>